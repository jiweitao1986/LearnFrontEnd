<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple</title>
</head>
<body>

<script>
    (function(){

        var expression = "{data:EmpModel.Emp.Code} + {data:EmpModel.Emp.Name} + {session:UserID} + {session:UserCode}";

        // 字段解析
        // var FIELD_PATTERN = /\{data:(\w+).(\w+).(\w+)\}/;
        // console.log(expression.replace(FIELD_PATTERN, 'AAA'));



        const sessionNames  = [];

        // 查找所有的session变量
        const SESSION_PATTERN_G = /\{session:(\w+)\}/g;
        const sessionVariables = expression.match(SESSION_PATTERN_G);
        if (sessionVariables === null) {
            console.log('找不到匹配的变量');
        }

        // 进一步解析变量名
        const SESSION_PATTERN = /\{session:(\w+)\}/;
        sessionVariables.forEach( sessionVariable =>  {
            const nameMatches = sessionVariable.match(SESSION_PATTERN);
            if (nameMatches != null && nameMatches.length === 2) {
                sessionNames.push(nameMatches[1]);
            }
        })





    })();
</script>

</body>
</html>